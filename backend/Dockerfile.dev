FROM golang:1.25-bookworm

WORKDIR /app

# Install Air for hot reload
RUN go install github.com/air-verse/air@latest

# Pre-copy go.mod and sum to cache dependencies
COPY go.mod go.sum ./
RUN go mod download

# Source code will be mounted at runtime
CMD ["air"]
