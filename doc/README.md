# LGD liteStat - λ””μ¤ν”λ μ΄ μ μ΅° λ°μ΄ν„° λ¶„μ„ μ‹μ¤ν…

λ€κ·λ¨ λ””μ¤ν”λ μ΄ μ μ΅° λ°μ΄ν„°λ¥Ό λ¶„μ„ν•κΈ° μ„ν•΄ μ„¤κ³„λ ν„λ€μ μ΄κ³  κ³ μ„±λ¥μΈ OLAP μ‹μ¤ν…μ…λ‹λ‹¤. Go, DuckDB, Svelteλ΅ κµ¬μ¶•λμ–΄ λ¶λ‰ ν¨ν„΄, μ¥λΉ„ μ„±λ¥, κ³µμ • μμ¨μ„ μ‹κ°ν™”ν•λ” κ°•λ ¥ν• μΈν„°νμ΄μ¤λ¥Ό μ κ³µν•©λ‹λ‹¤.

![λ€μ‹λ³΄λ“ λ―Έλ¦¬λ³΄κΈ°](/home/mingyu/.gemini/antigravity/brain/f694980b-6ef7-4811-b85d-bb9e80a365d1/dashboard_populated_results_1768535808620.png)

## π μ£Όμ” κΈ°λ¥

### π­ λ¶„μ„ λ° μ μ΅° μ§€λ¥ν™”
- **Target vs Others λ¶„μ„**: νΉμ • μ¥λΉ„μ λ¶λ‰λ¥ μ„ μ „μ²΄ κ·Έλ£Ή ν‰κ· κ³Ό μ¦‰μ‹ λΉ„κµν•©λ‹λ‹¤ (λΈνƒ€ λ¶„μ„).
- **λ­ν‚Ή μ‹μ¤ν…**: λ¶λ‰ μμ¨μ„ κΈ°μ¤€μΌλ΅ "Worst 10" λ° "Best 10" μ¥λΉ„λ¥Ό μλ™μΌλ΅ μ‹λ³„ν•©λ‹λ‹¤.
- **κ³µμ¥(Facility) κΈ°λ° νν‹°μ…”λ‹**: κ° κ³µμ¥(μ: `A1T`, `B2T`)λ³„λ΅ λ°μ΄ν„°λ¥Ό λ¬Όλ¦¬μ μΌλ΅ κ²©λ¦¬ν•μ—¬ λ³΄μ•κ³Ό ν™•μ¥μ„±μ„ λ³΄μ¥ν•©λ‹λ‹¤.
- **ν’λ¶€ν• μ‹κ°ν™”**:
  - **μ‚°μ λ„ (Scatter Plots)**: WebGLμ„ μ‚¬μ©ν•μ—¬ 5λ§ κ° μ΄μƒμ λ¶λ‰ ν¬μΈνΈλ¥Ό μΈν„°λ™ν‹°λΈν•κ² λ¶„μ„ν•©λ‹λ‹¤.
  - **ννΈλ§µ (Heatmaps)**: κΈ€λΌμ¤ ν¨λ„μƒμ κ³µκ°„μ  λ¶λ‰ λ¶„ν¬λ¥Ό μ‹κ°ν™”ν•©λ‹λ‹¤.
  - **μΌλ³„ μ¶”μ΄ (Daily Trends)**: μμ¨ λ³€ν™”λ¥Ό μ‹κ³„μ—΄λ΅ ν™•μΈν•©λ‹λ‹¤.

### π UI/UX
- **μ „μ²΄ ν•κΈ€ν™”**: λ€μ‹λ³΄λ“, μ„¤μ •, λ¨λ‹¬ λ“± λ¨λ“  UIκ°€ ν•κΈ€λ΅ μ κ³µλ©λ‹λ‹¤.
- **IBM Carbon Design**: μ„¤μ • νμ΄μ§€μ— IBM Carbon Design System μ¤νƒ€μΌμ΄ μ μ©λμ–΄ κΉ”λ”ν•κ³  λ¨λν• UIλ¥Ό μ κ³µν•©λ‹λ‹¤.
- **λ‹¤ν¬/λΌμ΄νΈ λ¨λ“**: ν…λ§ μ „ν™μ„ μ§€μ›ν•©λ‹λ‹¤.

### β΅ μ„±λ¥ λ° μ•„ν‚¤ν…μ²
- **μΈλ©”λ¨λ¦¬ μ†λ„**: `glass_stats` λ°μ΄ν„° λ§νΈμ™€ DuckDBμ μ»¬λΌ κΈ°λ° μ—”μ§„ λ•λ¶„μ— μΏΌλ¦¬κ°€ **50ms λ―Έλ§**μ— μ‹¤ν–‰λ©λ‹λ‹¤.
- **λ€κ·λ¨ ν™•μ¥μ„±**: λ‹¨μΌ λ…Έλ“μ—μ„ μλ°±λ§ κ±΄μ κ²€μ‚¬ κΈ°λ΅μ„ μ²λ¦¬ν•  μ μμµλ‹λ‹¤.
- **λΉ„λ™κΈ° μ²λ¦¬**: API μ‘λ‹µμ„±μ„ μ μ§€ν•κΈ° μ„ν•΄ λ¬΄κ±°μ΄ λ¶„μ„ μ‘μ—…μ€ Go Worker Poolλ΅ μ¤ν”„λ΅λ“λ©λ‹λ‹¤.
- **Mock λ°μ΄ν„° μλ™ μƒμ„±**: ν…μ¤νΈλ¥Ό μ„ν• ν„μ‹¤μ μΈ μ μ΅° λ°μ΄ν„°λ¥Ό μλ™μΌλ΅ μƒμ„±ν•λ” μ—”μ§„μ΄ λ‚΄μ¥λμ–΄ μμµλ‹λ‹¤.

---

## π› οΈ κΈ°μ  μ¤νƒ

| μ»΄ν¬λ„νΈ | κΈ°μ  | μ„ μ • μ΄μ  |
|-----------|------------|------|
| **Backend** | **Go (Golang)** 1.24+ | λ™μ‹μ„± μ²λ¦¬, μ •μ  νƒ€μ΄ν•‘, κ°„νΈν• λ°°ν¬. |
| **Database** | **DuckDB** | μ΄ κ·λ¨μ λ°μ΄ν„°λ¥Ό Spark μ—†μ΄ μ²λ¦¬ν•  μ μλ” κ³ μ† μ»¬λΌν• OLAP μ—”μ§„. |
| **Data Cache** | **SQLite (WAL)** | μ‘μ—… μ¶”μ , μ‚¬μ©μ μ„¤μ •, λ¶„μ„ κ²°κ³Ό μΊμ‹±. |
| **Frontend** | **Svelte 4 + Vite** | κ°€λ³κ³  Virtual DOM μ¤λ²„ν—¤λ“κ°€ μ—†μ–΄ λ΅λ”©μ΄ λ§¤μ° λΉ λ¦„. |
| **UI/UX** | **Tailwind + DaisyUI** | ν„λ€μ μ΄κ³  λ°μ‘ν•μ΄λ©° ν…λ§ μ μ©μ΄ κ°„νΈν• μΈν„°νμ΄μ¤. |
| **Deployment** | **Podman / Docker** | μ¬ν„ κ°€λ¥ν• λΉλ“λ¥Ό μ„ν• μ™„μ „ν• μ»¨ν…μ΄λ„ν™”. |

---

## π€ μ‹μ‘ν•κΈ° (Getting Started)

### ν•„μ μ”κµ¬μ‚¬ν•­
- Docker λλ” Podman
- (λ΅μ»¬ κ°λ° μ‹) Go 1.24+, Node.js 20+

### λ°°ν¬ λ° μ‹¤ν–‰ κ°€μ΄λ“

#### 1. κ°λ°/ν…μ¤νΈμ© μ‹¤ν–‰ (Development)
μ†μ¤ μ½”λ“λ¥Ό λ§μ΄νΈν•μ—¬ μ‹¤μ‹κ°„ μμ • μ‚¬ν•­μ„ λ°μν•  λ• μ‚¬μ©ν•©λ‹λ‹¤.
```bash
# κΈ°λ³Έ λ¨λ“ μ‹¤ν–‰
podman-compose up -d
```

#### 2. ν”„λ΅λ•μ… λ°°ν¬ (Production Build)
μµμ ν™”λ μ΄λ―Έμ§€λ¥Ό λΉλ“ν•μ—¬ λ°°ν¬ν•  λ• μ‚¬μ©ν•©λ‹λ‹¤. μ½”λ“ λ§μ΄νΈ μ—†μ΄ λΉλ“λ λ°”μ΄λ„λ¦¬λ§ ν¬ν•¨λ©λ‹λ‹¤.
```bash
# ν”„λ΅λ•μ…μ© Compose νμΌ μ‚¬μ©
podman-compose -f docker-compose.prod.yml up -d --build
```
- **Backend**: Multi-stage Docker buildλ¥Ό ν†µν•΄ 200MB μ΄ν•μ κ²½λ‰ μ΄λ―Έμ§€λ΅ μ‹¤ν–‰λ©λ‹λ‹¤.
- **Frontend**: Nginxλ¥Ό ν†µν•΄ μ •μ  νμΌμ„ μ„λΉ™ν•λ©° Gzip μ••μ¶•μ΄ μ μ©λ©λ‹λ‹¤.

#### ν¬νΈ μ •λ³΄
- **8082**: Backend API (μ»¨ν…μ΄λ„ λ‚΄λ¶€)
- **8081**: Frontend (Nginx λ¦¬λ²„μ¤ ν”„λ΅μ‹, λΈλΌμ°μ €μ—μ„ μ ‘μ†)

### κ³µμ¥(Facilities) μ„¤μ •
`config.yaml`μ„ μμ •ν•μ—¬ κ³µμ¥μ„ μ •μν•©λ‹λ‹¤:
```yaml
settings:
  facilities:
    - A1T
    - B2T
```

---

## π“– λ¬Έμ„ κ°€μ΄λ“

- **[API λ νΌλ°μ¤ (`API.md`)](API.md)**: λ¨λ“  REST API μ—”λ“ν¬μΈνΈμ— λ€ν• μƒμ„Έ λ¬Έμ„.
- **[μ‹μ¤ν… μµμ ν™” κ°€μ΄λ“ (`optimization.md`)](optimization.md)**: μ•„ν‚¤ν…μ² κ²°μ •, DuckDB μ„±λ¥ νλ‹, ν”„λ΅ νΈμ—”λ“ μµμ ν™”μ— λ€ν• μ‹¬μΈµ λ¶„μ„.

---

## π—οΈ μ•„ν‚¤ν…μ² κ°μ”

### λ°μ΄ν„° νμ΄ν”„λΌμΈ
1. **μμ§‘ (Ingest)**: API λλ” Mock λ°μ΄ν„°λ¥Ό ν†µν•΄ λ°μ΄ν„°λ¥Ό μμ§‘ν•μ—¬ `lake_mgr` μ¤ν‚¤λ§μ— μ €μ¥ν•©λ‹λ‹¤.
2. **λ§νΈ λΉλ“ (Mart Build)**: μ‹μ‘ μ‹ μ›λ³Έ λ°μ΄ν„°λ¥Ό `glass_stats` (Materialized View)λ΅ μ§‘κ³„ν•©λ‹λ‹¤.
3. **μ„λΉ™ (Serving)**: APIλ” λ§νΈ λλ” μΊμ‹λ¥Ό μ΅°νν•©λ‹λ‹¤.
4. **νν‹°μ…”λ‹ (Partitioning)**: κ° κ³µμ¥μ€ λ³„λ„μ ν΄λ”(`data/A1T/duck.db`)λ¥Ό κ°€μ§€λ©° μ—„κ²©ν•κ² κ²©λ¦¬λ©λ‹λ‹¤.

```mermaid
graph LR
    User[μ‚¬μ©μ] -->|Web UI| FE[Svelte ν”„λ΅ νΈμ—”λ“]
    FE -->|REST API| BE[Go λ°±μ—”λ“]
    
    subgraph "Backend Services"
        BE -->|Async| Worker[μ›μ»¤ ν’€]
        BE -->|Read/Write| Mart[λ°μ΄ν„° λ§νΈ (DuckDB)]
        Worker -->|Cache Results| SQLite[μΊμ‹ DB]
    end
    
    subgraph "Storage Layer"
        Mart -->|Read| File1[data/A1T/duck.db]
        Mart -->|Read| File2[data/B2T/duck.db]
    end
```

---

## π” λ¬Έμ  ν•΄κ²° (Troubleshooting)

**Q: λ€μ‹λ³΄λ“μ— "λ°μ΄ν„°κ°€ μ—†μµλ‹λ‹¤"λΌκ³  λΉλ‹λ‹¤.**
A: λ°±μ—”λ“ μ‹μ‘ μ‹ λ§νΈ κ°±μ‹ (Refresh)μ΄ μ™„λ£λμ—λ”μ§€ ν™•μΈν•μ„Έμ”. λ΅κ·Έ ν™•μΈ: `docker logs lgd-litestat-backend`.
λν• `config.yaml`μ—μ„ mock dataμ `enabled: true` μ„¤μ •μ΄ λμ–΄ μλ”μ§€ ν™•μΈν•μ„Έμ”.

**Q: λ²„νΌμ΄ "Lookup"μΌλ΅ λ³΄μ΄μ§€λ§ "λ¶„μ„"μ„ μ›ν•©λ‹λ‹¤.**
A: μµμ‹  UI μ—…λ°μ΄νΈμ—μ„ λ¨λ“  ν…μ¤νΈκ°€ ν•κΈ€λ΅ λ³€κ²½λμ—μµλ‹λ‹¤. λΈλΌμ°μ € μΊμ‹λ¥Ό μ§€μ›λ³΄μ„Έμ” (Ctrl+Shift+R).

**Q: μ„¤μ •μ΄ μ €μ¥λμ§€ μ•μµλ‹λ‹¤.**
A: μ„¤μ • νμ΄μ§€μ—μ„ "μ €μ¥" λ²„νΌμ„ ν΄λ¦­ ν›„ μ„±κ³µ λ©”μ‹μ§€λ¥Ό ν™•μΈν•μ„Έμ”. `config.yaml` νμΌμ— λ³€κ²½ μ‚¬ν•­μ΄ λ°μλ©λ‹λ‹¤.

**Q: "Failed to fetch rankings" μ—λ¬κ°€ λ°μƒν•©λ‹λ‹¤.**
A: μ„ νƒν• λ‚ μ§ λ²”μ„μ— λ°μ΄ν„°κ°€ μ—†κ±°λ‚, λ°±μ—”λ“ SQL μΏΌλ¦¬ μ¤λ¥μΌ μ μμµλ‹λ‹¤. λ°±μ—”λ“ λ΅κ·Έλ¥Ό ν™•μΈν•μ„Έμ”: `podman logs litestat-backend`.

---

## π“ λΌμ΄μ„ μ¤
μ‚¬λ‚΄μ© (Internal Use Only). Copyright Β© 2026 LG Display.
